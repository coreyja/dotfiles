#!/usr/bin/env bash

function devicons_get_filetype_symbol {

  declare -A extensions=(
  [ai]=
  [awk]=
  [bash]=
  [bat]=
  [bmp]=
  [c++]=
  [c]=
  [cc]=
  [clj]=
  [cljc]=
  [cljs]=
  [coffee]=
  [conf]=
  [cp]=
  [cpp]=
  [csh]=
  [css]=
  [cxx]=
  [d]=
  [dart]=
  [db]=
  [diff]=
  [dump]=
  [edn]=
  [ejs]=
  [erl]=
  [f#]=
  [fish]=
  [fs]=
  [fsi]=
  [fsscript]=
  [fsx]=
  [gif]=
  [go]=
  [h]=
  [hbs]=
  [hpp]=
  [hrl]=
  [hs]=
  [htm]=
  [html]=
  [hxx]=
  [ico]=
  [ini]=
  [java]=
  [jl]=
  [jpeg]=
  [jpg]=
  [js]=
  [json]=
  [jsx]=
  [ksh]=
  [less]=
  [lhs]=
  [lua]=
  [markdown]=
  [md]=
  [ml]=λ
  [mli]=λ
  [mustache]=
  [php]=
  [pl]=
  [pm]=
  [png]=
  [pp]=
  [ps1]=
  [psb]=
  [psd]=
  [py]=
  [pyc]=
  [pyd]=
  [pyo]=
  [rb]=
  [rlib]=
  [rmd]=
  [rs]=
  [rss]=
  [sass]=
  [scala]=
  [scss]=
  [sh]=
  [slim]=
  [sln]=
  [sql]=
  [styl]=
  [suo]=
  [t]=
  [ts]=
  [tsx]=
  [twig]=
  [txt]=e
  [vim]=
  [vim]=
  [vue]=﵂
  [xul]=
  [yaml]=
  [yml]=
  [zsh]=
)

  local folder=""

	local filetype
	local default=
	local exist_check=1
	local input=$1
	local filename="$1"
	# using ## for possibly more than one "." (get after last one):
	local filetype="${filename##*.}"

  if [ -d "$filename" ]; then
		local symbol=$folder
  elif [ ! -z "$filetype" ] && [ ${extensions[$filetype]+$exist_check} ]; then
		local symbol=${extensions[$filetype]}
	else
		local symbol=$default
	fi

  echo "$symbol"
	return 0
}

while IFS= read -r line; do
  echo -e "$(devicons_get_filetype_symbol $line) $line"
done
